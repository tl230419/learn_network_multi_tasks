oS.Init({PName:[oFumeShroom,oHypnoShroom,oGraveBuster,oDoomShroom,oScaredyShroom,oPuffShroom],ZName:[oZombie,oZombie2,oZombie3,oConeheadZombie,oDancingZombie,oScreenDoorZombie,oFootballZombie,oBackupDancer,oBucketheadZombie],PicArr:["images/interface/background2.jpg","images/interface/trophy.png","images/interface/Tombstones.png","images/interface/Tombstone_mounds.png"],backgroundImage:"images/interface/background2.jpg",CanSelectCard:0,DKind:0,LevelName:"关卡 2-10",LvlEName:20,LargeWaveFlag:{10:$("imgFlag3"),20:$("imgFlag1")},StaticCard:0,StartGameMusic:"Ultimate battle.swf",StartGame:function(){!oS.Silence&&NewMusic("Ultimate battle.swf");SetVisible($("tdShovel"),$("dFlagMeter"),$("dTop"));SetHidden($("dSunNum"));oS.InitLawnMower();PrepareGrowPlants(function(){oP.Monitor({f:function(){(function(){var e=ArCard.length;if(e<10){var a=oS.PName,f=Math.floor(Math.random()*a.length),c=a[f],b=c.prototype,d="dCard"+Math.random();ArCard[e]={DID:d,PName:c,PixelTop:600};NewImg(d,b.PicArr[b.CardGif],"top:600px;cursor:pointer",$("dCardList"),{onmouseover:function(g){ViewPlantTitle(GetChoseCard(d),g)},onmouseout:function(){SetHidden($("dTitle"))},onclick:function(g){ChosePlant(g,oS.ChoseCard,d)}})}oSym.addTask(600,arguments.callee,[])})();(function(){var c=ArCard.length,b,a;while(c--){(a=(b=ArCard[c]).PixelTop)>60*c&&($(b.DID).style.top=(b.PixelTop=a-1)+"px")}oSym.addTask(5,arguments.callee,[])})();AppearTombstones(4,9,13)},ar:[]},function(a){oP.FlagNum==oP.FlagZombies&&oP.SetTimeoutTomZombie([oZombie,oConeheadZombie,oBucketheadZombie])});oP.AddZombiesFlag();SetVisible($("dFlagMeterContent"))})}},{AZ:[[oZombie,4,1],[oZombie2,2,1],[oZombie3,2,1],[oConeheadZombie,5,1],[oScreenDoorZombie,1,1],[oFootballZombie,1,1],[oDancingZombie,1,1]],FlagNum:20,FlagToSumNum:{a1:[3,5,9,10,13,15,19],a2:[3,6,12,20,24,36,48,60]},FlagToMonitor:{9:[ShowLargeWave,0],19:[ShowFinalWave,0]},FlagToEnd:function(){NewImg("imgSF","images/interface/trophy.png","left:260px;top:233px",EDAll,{onclick:function(){SelectModal(21)}});NewImg("PointerUD","images/interface/PointerDown.gif","top:198px;left:269px",EDAll)}},{GetChoseCard:function(b){var a=ArCard.length;while(a--){ArCard[a].DID==b&&(oS.ChoseCard=a,a=0)}return oS.ChoseCard},ChosePlant:function(e,f){e=window.event||e;var d=ArCard[oS.ChoseCard],c=e.clientX-EDAlloffsetLeft+EBody.scrollLeft||EElement.scrollLeft,b=e.clientY+EBody.scrollTop||EElement.scrollTop,a=d.PName.prototype;oS.Chose=1;EditImg((EditImg($Pn[a.EName].childNodes[1].cloneNode(false),"MovePlant","",{left:c-0.5*(a.beAttackedPointL+a.beAttackedPointR)+"px",top:b+20-a.height+"px",zIndex:254},EDAll)).cloneNode(false),"MovePlantAlpha","",{visibility:"hidden",filter:"alpha(opacity=40)",opacity:0.4,zIndex:30},EDAll);SetAlpha($(d.DID),50,0.5);SetHidden($("dTitle"));GroundOnmousemove=GroundOnmousemove1},CancelPlant:function(){ClearChild($("MovePlant"),$("MovePlantAlpha"));oS.Chose=0;SetAlpha($(ArCard[oS.ChoseCard].DID),100,1);oS.ChoseCard="";GroundOnmousemove=function(){}},GrowPlant:function(g,j,i,b,h){var e=oS.ChoseCard,c=ArCard[e],d=c.PName,f=d.prototype,k=c.DID,a;f.CanGrow(g,b,h)&&function(){(new d).Birth(j,i,b,h,g);oSym.addTask(20,SetNone,[SetStyle($("imgGrowSoil"),{left:j-30+"px",top:i-40+"px",zIndex:3*b,visibility:"visible"})]);ClearChild($("MovePlant"),$("MovePlantAlpha"));$("dCardList").removeChild(a=$(k));a=null;ArCard.splice(e,1);oS.ChoseCard="";oS.Chose=0;GroundOnmousemove=function(){}}()},ViewPlantTitle:function(a){}});